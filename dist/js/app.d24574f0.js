(function(e){function t(t){for(var n,i,o=t[0],l=t[1],c=t[2],A=0,p=[];A<o.length;A++)i=o[A],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"00c2":function(e,t,a){e.exports=a.p+"img/g8.0d49759d.png"},"034f":function(e,t,a){"use strict";var n=a("85ec"),s=a.n(n);s.a},"053e":function(e,t,a){e.exports=a.p+"img/sk.ca34c09d.png"},"06c4":function(e,t,a){e.exports=a.p+"img/safari-pinned-tab.ec8203f4.svg"},"0709":function(e,t,a){e.exports=a.p+"img/h6.19e3307b.png"},1:function(e,t){},"15e5":function(e,t,a){e.exports=a.p+"img/tenor.5fd205e6.gif"},"16b7":function(e,t,a){e.exports=a.p+"img/ek.8b47f4f0.png"},"19ad":function(e,t,a){e.exports=a.p+"img/e8.0f525b45.png"},"1bf2":function(e,t,a){e.exports=a.p+"img/66Karten.aceae1e6.png"},"211b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAIACAMAAADE/kVpAAADAFBMVEUMEAf18fo5OzYkKCAtMCk5PDZNT0pTVVFCRD9dX1wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQZL7uAAABAHRSTlP/////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfzReNQAAAAlwSFlzAAAuIwAALiMBeKU/dgAABC5JREFUeJzt0MENwjAAwMDQlkL3X7gobBA/ENLdBJbHg2T8OuDffQa+Dha958BtsGg3sDEwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMDIwMjAyMPoOvJ4sOudACgOjG0ylIfuylluQAAAAAElFTkSuQmCC"},2683:function(e,t,a){e.exports=a.p+"img/g10.5c82f686.png"},"30b2":function(e,t,a){e.exports=a.p+"img/h7.7bcefb29.png"},3167:function(e,t,a){e.exports=a.p+"img/s10.8249193e.png"},"3c0d":function(e,t,a){e.exports=a.p+"img/hk.01815b28.png"},"3c2e":function(e,t,a){e.exports=a.p+"img/eo.03f58a5c.png"},"3dfd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("img",{attrs:{id:"logo",alt:"App logo",src:a("cf05")}}),n("Main66")],1)},s=[],r=a("57bf"),i={name:"App",components:{Main66:r["default"]}},o=i,l=(a("034f"),a("2877")),c=Object(l["a"])(o,n,s,!1,null,null,null);t["default"]=c.exports},"49b4":function(e,t,a){e.exports=a.p+"img/h9.c32367f5.png"},"51c0":function(e,t,a){e.exports=a.p+"img/g9.bd1d46b0.png"},"54e3":function(e,t,a){e.exports=a.p+"img/e10.3915a444.png"},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),s=a("3dfd"),r=a("ecee"),i=a("c074"),o=a("ad3d"),l=a("5886");a("77ed");r["c"].add(i["h"],i["f"],i["b"],i["c"],i["i"],i["d"],i["e"],i["g"],i["a"]),n["a"].component("font-awesome-icon",o["a"]);const c={confirmButtonColor:"#41b882",cancelButtonColor:"#ff7674",padding:"0.5rem"};n["a"].use(l["a"],c),n["a"].config.productionTip=!1;new n["a"]({render:e=>e(s["default"])}).$mount("#app")},"57bf":function(e,t,a){"use strict";a.r(t);var n,s,r,i,o,l,c,d,A,p,u,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{contextmenu:e.openContextMenu}},[a("h2",{style:e.titleStyle,attrs:{id:"apptitle"},on:{click:e.toggleAutomode}},[e._v(" war66 ")]),a("div",{staticClass:"fabutton",style:e.chatsStyle,attrs:{id:"chatsButton",title:"Chats starten"},on:{click:e.toggleChats}},[a("font-awesome-icon",{attrs:{icon:"comment"}})],1),a("div",{staticClass:"fabutton",attrs:{id:"onlineButton",title:"Wer spielt denn da?"},on:{click:e.whosOnline}},[a("font-awesome-icon",{attrs:{icon:"globe"}})],1),a("div",{style:e.conStateColor,attrs:{id:"heartbeat",title:"Serververbindung prüfen: Rot=OK, Blau=kein Server"},on:{click:e.checkConnstate}},[a("span",{staticStyle:{"margin-left":"-15","font-size":"8pt",color:"white"},attrs:{id:"numElem"}}),a("font-awesome-icon",{attrs:{icon:"heart"}}),a("span",{staticStyle:{"margin-right":"15","font-size":"12pt",color:"white"},attrs:{id:"pNr"}})],1),a("div",{staticStyle:{display:"block"},attrs:{id:"controls"}},[a("div",{staticClass:"fabutton",attrs:{id:"exitButton",title:"Spiel verlassen."},on:{click:function(t){return e.stopGame()}}},[a("font-awesome-icon",{attrs:{icon:"sign-out-alt"}})],1),a("div",{staticClass:"fabutton",attrs:{id:"infoButton",title:"Infos"},on:{click:e.showInfo}},[a("font-awesome-icon",{attrs:{icon:"info"}})],1),a("div",{staticClass:"fabutton",attrs:{id:"helpButton",title:"Über 66"},on:{click:e.showHelp}},[a("font-awesome-icon",{attrs:{icon:"question"}})],1),a("div",{staticClass:"fabutton",attrs:{id:"settingsButton",title:"Einstellungen"},on:{click:e.showSettings}},[a("font-awesome-icon",{attrs:{icon:"cog"}})],1)]),a("div",{staticStyle:{display:"block"},attrs:{id:"table"}},[a("table",{attrs:{id:"tablecontainer"}},[a("tr",[a("td",[a("tr",{staticClass:"p1info",on:{click:function(t){return e.setGameTimeout(300)}}},[e._v(" "+e._s(e.playerInfo.p1Name)+"-"+e._s(e.playerInfo.p1Hands)+" ")]),a("table",{staticClass:"subtable",attrs:{id:"player"}},[e._m(0),a("tr",[a("td",[a("div",{staticClass:"ampel",style:e.p1ampel,attrs:{id:"p1deckampel"}},[a("span",{staticClass:"num"},[e._v(e._s(e.p1deck.cards.length))])])]),a("td",[a("div",{staticClass:"ampel",style:e.p1stackampel,attrs:{id:"p1stackampel"}},[a("span",{staticClass:"num"},[e._v(e._s(e.p1stack.cards.length))])])])]),a("tr",[a("td",[a("img",{staticClass:"img  animate__animated animate__bounceIn",attrs:{id:"p1deck",src:e.p1deck.imgurl,draggable:"true"},on:{click:function(t){return e.playCard(t)},dragstart:function(t){return e.onDragStart(t)}}})]),a("td",{staticClass:"drop-zone drag-el"},[a("img",{staticClass:"img",attrs:{id:"p1stack",src:e.p1stack.imgurl,draggable:"true"},on:{contextmenu:function(e){e.preventDefault()},dragstart:function(t){return e.onDragStart(t)},drop:function(t){return e.onDrop(t)},dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()},dragleave:function(t){return e.onDragLeave(t)},dragend:function(t){return e.onDragEnd(t)}}})])])])]),a("td",[a("tr",{staticClass:"info"},[e._v(" "+e._s(e.playerInfo.p1Score)+" : "+e._s(e.playerInfo.p2Score)+" ")]),a("table",{staticClass:"subtable",attrs:{id:"stackplayer"}},[e._m(1),a("tr",[a("td",[a("div",{staticClass:"ampel stackampel",attrs:{id:"stackampel"},on:{click:e.replayGame}},[a("span",{staticClass:"num"},[e._v(e._s(e.stack.cards.length))])])])]),a("tr",[a("td",[a("img",{staticClass:"img drop-zone",attrs:{id:"stack",src:e.stack.imgurl},on:{click:e.dumpCards,drop:function(t){return e.onDrop(t)},dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()},dragleave:function(t){return e.onDragLeave(t)},dragend:function(t){return e.onDragEnd(t)}}})])])])]),a("td",[a("tr",{staticClass:"p2info",on:{click:function(t){return e.setGameTimeout(20)}}},[e._v(" "+e._s(e.playerInfo.p2Name)+"-"+e._s(e.playerInfo.p2Hands)+" ")]),a("table",{staticClass:"subtable",attrs:{id:"player"}},[e._m(2),a("tr",[a("td",[a("div",{staticClass:"ampel",style:e.p2stackampel,attrs:{id:"p2stackampel"}},[a("span",{staticClass:"num"},[e._v(e._s(e.p2stack.cards.length))])])]),a("td",[a("div",{staticClass:"ampel",style:e.p2ampel,attrs:{id:"p2deckampel"}},[a("span",{staticClass:"num"},[e._v(e._s(e.p2deck.cards.length))])])])]),a("tr",[a("td",[a("img",{staticClass:"img drop-zone",attrs:{id:"p2stack",src:e.p2stack.imgurl,draggable:"true"},on:{dragstart:function(t){return e.onDragStart(t)},drop:function(t){return e.onDrop(t)},dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()},dragleave:function(t){return e.onDragLeave(t)},dragend:function(t){return e.onDragEnd(t)}}})]),a("td",[a("img",{staticClass:"img animate__animated animate__bounceIn",attrs:{id:"p2deck",src:e.p2deck.imgurl,draggable:"true"},on:{click:function(t){return e.playCard(t)},dragstart:function(t){return e.onDragStart(t)}}})])])])])])])]),a("div",{staticStyle:{display:"none"},attrs:{id:"messagearea"}},[a("input",{attrs:{type:"text",id:"msg",placeholder:"Chat eingeben und Return oder 'Chat senden'",spellcheck:"false",onkeydown:"if (event.keyCode == 13)\n                      document.getElementById('sendChatButton').click()"}}),a("div",{attrs:{id:"msgbuttons"}},[a("div",{staticClass:"fabutton",attrs:{id:"sendChatButton",title:"Chat senden"},on:{click:e.sendMessage}},[a("font-awesome-icon",{attrs:{icon:"paper-plane"}})],1),a("div",{staticClass:"fabutton",attrs:{id:"toggleDialogButton",title:"Chats anzeigen."},on:{click:e.toggleChatDialog}},[a("font-awesome-icon",{attrs:{icon:"rocket"}}),a("span",{staticStyle:{"margin-left":"10","font-size":"12pt","font-weight":"bold",color:"#f1da0a"},attrs:{id:"numChats"}})],1)])]),a("div",{staticStyle:{display:"none"},attrs:{id:"chatarea"}})])},h=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("Stapel")]),a("th",[e._v("Halde")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("Ablage")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("Halde")]),a("th",[e._v("Stapel")])])}],g=a("8055"),f=a.n(g),y=a("e181"),k=a("0268"),w=a("964f"),b=!1,C=!1,M=!1,v=!0,I=!1,S=!1,D="",x="",j=0,E="0.0.6",T=1e3,N=20,O=!1,B=!1,G=!1,_=0,H="assets/sword2.png",z="assets/sword2rot.png",P="assets/back7.png",J="assets/black.png",L="assets/tenor.gif",K="assets/sieg.png",U="assets/aerger.png",R=!1;Object(k["polyfill"])({dragImageCenterOnTouch:!0,dragImageTranslateOverride:w["scrollBehaviourDragImageTranslateOverride"]});var F={name:"Main66",data(){return{msg:"",isIos:!1,socket:{},conStateColor:{color:"blue",fontSize:"1.3rem"},playernr:0,playername:"",roomname:"room1",playersOnline:0,chats:[],gameKilled:!1,gamePaused:!1,playersTurn:!1,p1ampel:{backgroundColor:"green"},p1stackampel:{backgroundColor:"green"},p2ampel:{backgroundColor:"red"},p2stackampel:{backgroundColor:"red"},playerInfo:{p1Name:O?"Ich":"IQ",p1Score:0,p1Hands:0,p2Name:O?"Ego":"KI",p2Score:0,p2Hands:0},playerInfoStyle:{color:C?"yellow":"white",backgroundColor:C?"green":"rgba(88,88,88, 0.8)"},titleStyle:{backgroundColor:"black"},chatsStyle:{color:"yellow"},ranks20:["a","10","k","o","u"],ranks36:["a","k","o","u","10","9","8","7","6"],suits:["e","s","h","g"],values20:[11,10,4,3,2],values36:[11,4,3,2,10,9,8,7,6],cards:[],p1deck:{imgurl:a("a8ec")("./"+P),cards:[],name:"p1deck"},p2deck:{imgurl:a("a8ec")("./"+P),cards:[],name:"p2deck"},p1stack:{imgurl:a("a8ec")("./"+J),cards:[],name:"p1stack"},p2stack:{imgurl:a("a8ec")("./"+J),cards:[],name:"p2stack"},stack:{imgurl:a("a8ec")("./"+J),cards:[],name:"stack"},isDeckShuffled:!1,shuffleCount:-1,replaystr:""}},created(){n=this,B=!0,v?(this.socket=f()({transports:["polling"]}),this.socket.on("connect",e=>{b&&X("connect, socket status: "+this.socket.connected),b&&X("connect data: "+JSON.stringify(e)),n.checkConnstate()}),this.socket.on("connect_timeout",(function(e){b&&X("connect_timeout: "+e)})),this.socket.on("connect_error",(function(e){b&&X("connect_error: "+JSON.stringify(e)),b&&X("connect_error: "+JSON.stringify(e.stack)),R=!1,n.updateConnectionStatus(),n.checkConnstate()})),this.socket.on("reconnect_attempt",(function(e){X("reconnect_attempt: "+e)})),this.socket.on("reconnect",(function(){X("reconnect")})),this.socket.on("reconnect_error",(function(e){X("reconnect_error: "+JSON.stringify(e))})),this.socket.on("reconnect_failed",(function(){X("reconnect_failed")})),this.socket.on("open",(function(){X("open")})),this.socket.on("close",(function(){X("close")})),this.socket.on("error",(function(e){X("error: "+e)})),this.socket.on("disconnect",()=>{b&&X("disconnect, socket status: "+this.socket.connected),B=!1,n.playersOnline=0,n.updateHeartbeatSpan(),n.playernr=-1,n.playerInfo.p1Name="IQ",n.playerInfo.p2Name="KI",n.resetGameParameters(),n.signin()}),this.socket.on("serverdown",this.onSocketDisconnect),this.socket.on("serverinfo",this.onServerInfo),this.socket.on("useDeck",this.onUseDeck),this.socket.on("changeNumCardsAndRestart",this.onChangeNumCards),this.socket.on("setAutomode",this.onAutomode),this.socket.on("startGame",this.onStartGame),this.socket.on("startNewGame",this.onStartNewGame),this.socket.on("flipCard",this.onFlipCard),this.socket.on("switchStack",this.onSwitchStack),this.socket.on("moveCard",this.onMoveCard),this.socket.on("moveCardAndSwitchPlayer",this.onMoveCardAndSwitchPlayer),this.socket.on("playerLeftGame",this.onUpdatePlayers),this.socket.on("updatechat",this.onUpdateChat),this.signin()):(B=!0,this.createCardDeck())},mounted(){this.resizeHandler(),window.addEventListener("resize",this.resizeHandler),r=document.getElementById("chatsButton"),i=document.getElementById("onlineButton"),d=document.getElementById("messagearea"),A=document.getElementById("msg"),p=document.getElementById("chatarea"),u=document.getElementById("numChats"),s=document.getElementById("heartbeat"),o=document.getElementById("numElem"),l=document.getElementById("pNr"),c=document.getElementById("exitButton"),v||(s.style.display="none",o.style.display="none",l.style.display="none",c.style.display="none",r.style.display="none",i.style.display="none",this.startGame())},methods:{resizeHandler(){b&&X("resizeHandler, w = "+window.innerWidth+", h = "+window.innerHeight);var e="war66";window.innerWidth<window.innerHeight&&(e=""),document.getElementById("apptitle").innerHTML=e},toggleChats(){I=!I,d.style.display=I?"block":"none",p.style.display=I?"block":"none",this.chatsStyle=I?"color: green":"color: yellow",I?this.saShowTimerInfoDialog("Chats unten eingeben."):this.saShowTimerInfoDialog("Chats beendet.")},sendMessage(){""!==A.value&&(b&&X("send.click:"+this.playername+" sende chat: "+A.value+" an "+this.roomname),this.socket.emit("sendmessage",this.playername,this.roomname,A.value),A.value="")},onUpdateChat(e,t,a){b&&X("onUpdateChat: chat von: "+e+" um: "+t+", data = "+JSON.stringify(a));let n=t+" - "+e+": "+a;this.chats.push(n),u.innerHTML=++j,e!==this.playername&&this.saShowTimerInfoDialog(n)},toggleChatDialog(){this.saOpenChatDialog(this.chats)},onServerInfo(e){b&&X("onServerInfo: server info = "+JSON.stringify(e)),this.saShowTimerInfoDialog(e)},signin(){(async()=>{if(b&&X("signin called..."),!v)return;let e,t;""===D?(e=n.randStr(5),D=e):e=D,""===x?(t=n.randNumberStr(3),x=t):t=x;let a=document.createElement("div");a.id="swal-input",a.style.color="#f1da0a",a.style.paddingLeft="16px",a.style.fontFamily="Avenir, Helvetica, Arial, sans-serif",a.style.fontSize="20px",a.style.fontWeight="bold",a.style.textAlign="left",a.style.textIndent="10px",a.style.maxHeight="450px";var s=document.createElement("Input");s.id="swal-input1",s.name="swal-input1",s.type="text",s.style.fontSize="18px",s.pattern="[a-zA-Z0-9]+",s.required="true",s.autocomplete="off",s.spellcheck="false",s.minlength="5",s.maxlength="10",s.size="10",s.value=e;var r=document.createElement("Label");r.setAttribute("for","swal-input1"),r.innerHTML="Name: ",a.appendChild(r),a.appendChild(document.createElement("br")),a.appendChild(s),a.appendChild(document.createElement("br")),a.appendChild(document.createElement("br")),s=document.createElement("Input"),s.id="swal-input2",s.name="swal-input2",s.type="text",s.style.fontSize="18px",s.pattern="^[0-9]+$",s.required="required",s.autocomplete="off",s.spellcheck="false",s.minlength="3",s.maxlength="5",s.size="10",s.value=t,r=document.createElement("Label"),r.setAttribute("for","swal-input2"),r.innerHTML="Tisch: ",a.appendChild(r);var i=document.createElement("input");i.id="obtn",i.type="button",i.class="fabutton",i.name="i",i.value="?",i.title="Wer spielt gerade?",i.style.width="30px",i.style.height="30px",i.style.background="transparent",i.style.color="#f1da0a",i.style.fontSize="18px",i.style.fontWeight="bold",a.appendChild(i),document.addEventListener("click",n.handleSigninInfoButton),a.appendChild(document.createElement("br")),a.appendChild(s),a.appendChild(document.createElement("br")),S=!0;const{value:o}=await this.$swal({background:"rgba(133,133,133, 0.8)",width:270,title:'<span style="text-shadow:none;color:blue;font-family: Verdana,Arial,Helvetica;font-size: 20px;font-weight: bold;">Anmeldung</span>',allowOutsideClick:!1,html:a,focusConfirm:!1,onClose:()=>{b&&X("signin dialog closed by user"),S=!1},onDestroy:()=>{b&&X("signin dialog destroyed by popup"),S=!1},preConfirm:()=>{let a=document.getElementById("swal-input1").value.trim().replace(/\s+/g,"");D=a;let s=document.getElementById("swal-input2").value.trim().replace(/\s+/g,"");x=s;var r=document.getElementById("swal-input1").getAttribute("pattern"),i=new RegExp(r),o=document.getElementById("swal-input2").getAttribute("pattern"),l=new RegExp(o),c=i.test(a),d=l.test(s);return c&&d?(D="",x="",S=!1,document.removeEventListener("click",n.handleSigninInfoButton),[a||e,s||t]):(alert("Falsche Eingaben, bitte für Name 1-5 Zeichen, Tisch 1-3 Ziffern einzeichen"),!1)}});o&&(S=!1,document.removeEventListener("click",this.handleSigninInfoButton),b&&X("signin dialog closed by user OK, showSignin="+S),this.createUser({name:o[0],room:o[1]}))})()},handleSigninInfoButton(e){var t=e.target||e.srcElement;if(b&&X("handleSigninInfoButton: event = "+e+" on "+t.id),""===t.id&&(t.id="whosonline"),"obtn"===t.id){let e=document.getElementById("swal-input1").value.trim().replace(/\s+/g,"");D=e;let t=document.getElementById("swal-input2").value.trim().replace(/\s+/g,"");x=t,n.whosOnline()}else t.id.startsWith("swal-input")||(b&&X("handleSigninInfoButton: open signin, showSignin="+S),S||""===D||v&&n.signin())},randStr(e,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"){let a="";while(e--)a+=t[Math.floor(Math.random()*t.length)];return a},randNumberStr(e,t="123456789"){let a="";while(e--)a+=t[Math.floor(Math.random()*t.length)];return a},async createUser(e){if(b&&X("createUser: "+JSON.stringify(e)),v&&!R)return v=!1,s.style.display="none",o.style.display="none",l.style.display="none",c.style.display="none",r.style.display="none",i.style.display="none",n.saShowTimerInfoDialog("Server nicht verfügbar, Solospiel!"),n.socket.disconnect(!0),void n.newGame();const{id:t}=await this.socket.emit("createUser",e);b&&X("createUser join table, user id = "+t),n.playername=e.name,n.joinRoom(e)},joinRoom(e){this.roomname=e.room,this.socket.emit("joinRoom",e,(function(t){if(b&&X("joinRoom: "+JSON.stringify(t)),n.playernr=t.nr,b&&X("joinRoom done, playernr = "+n.playernr),0===n.playernr){let t="Der Tisch "+e.room+" ist bereits besetzt. Möchtest Du alleine gegen die KI weiterspielen?";n.saGetAnswer("Anmeldung",t,"Nein","Ja").then((function(e){b&&X("joinRoom.saGetAnswer confirm: "+e),n.killGame()})).catch((function(e){b&&X("joinRoom.saGetAnswer, result: "+e.message),n.playerInfo.p1Name=n.playername,n.playerInfo.p2Name="KI",v=!1,s.style.display="none",o.style.display="none",l.style.display="none",c.style.display="none",r.style.display="none",i.style.display="none",D="",x="",n.socket.disconnect(!0),n.newGame()}))}else if(1===n.playernr){n.playerInfo.p1Name=e.name,n.playersOnline++,n.updateHeartbeatSpan();let t="Ja > ich warte auf Mitspieler, <br>Nein > ich spiele ganz alleine.";n.saGetAnswer("Warte auf Mitspieler",t,"Nein","Ja").then((function(e){b&&X("joinRoom, saGetAnswer confirm: "+e),v=!1,s.style.display="none",o.style.display="none",l.style.display="none",c.style.display="none",r.style.display="none",i.style.display="none",n.newGame()})).catch((function(e){b&&X("joinRoom.saGetAnswer, negative result: "+e.message),n.saShowInfoDialog("Warte auf Mitspieler am Tisch: "+n.roomname)}))}else 2===n.playernr&&(n.playerInfo.p2Name=e.name,n.playersOnline++,n.updateHeartbeatSpan())}))},signoutUser(){let e=1===this.playernr?this.playerInfo.p1Name:this.playerInfo.p2Name,t=this.roomname;this.socket.emit("signout",{nickname:e,tablename:t},(function(t){t?b&&X("signoutUser: nickname sent successfully to server"):b&&X("signoutUser: Sorry, Spieler: "+e+" nicht gefunden!")}))},whosOnline(){b&&X("whosOnline"),this.socket.emit("whosonline",{},(function(e){b&&X("whosOnline: "+JSON.stringify(e)),e.playersOnline>0?n.saShowPlayersOnline(e.playersOnline,e.playerNames):n.saShowPlayersOnline(0,"Leider ist noch niemand angemeldet!")}))},onUpdatePlayers(e){b&&X("onUpdatePlayers, data = "+JSON.stringify(e)),this.playersOnline--,this.updateHeartbeatSpan(),this.playernr=1;let t=e.name+" ist raus, Du gegen KI!<br>Ja > am Tisch spielen.<br>Nein > Tisch verlassen für Solospiel.";b&&X(t),this.saGetAnswer("SPIELERFLUCHT",t,"Nein","Ja").then((function(e){b&&X("onUpdatePlayers, saGetAnswer nein: "+e),n.playerInfo.p1Name=n.playername,n.playerInfo.p2Name="KI",v=!1,s.style.display="none",o.style.display="none",l.style.display="none",c.style.display="none",r.style.display="none",i.style.display="none",n.newGame()})).catch((function(e){b&&X("onUpdatePlayers.saGetAnswer, ja: "+e.message),n.newGame()}))},onStartGame(e){if(b&&X("onStartGame, data = "+JSON.stringify(e)),this.playersOnline++,this.updateHeartbeatSpan(),this.saShowTimerInfoDialog("Der Tisch ist voll, "+e[0].name+" beginnt!"),v)b&&X(">>> onStartGame: 2 want to play... "),B=!0,this.playerInfo.p1Name=e[0].name,this.playerInfo.p2Name=e[1].name,this.createCardDeck(),$("p1deck"),$("p2deck"),v&&1===this.playernr&&(this.dumpCards(),this.socket.emit("sendDeck",{room:this.roomname,deck:this.replaystr},(function(e){b&&X("onStartGame sendDeck: "+JSON.stringify(e))}))),this.startGame();else{b&&X(">>> onStartGame other player wants to play... ");let t=e[1].name+" möchte mitspielen, ok?";this.saGetAnswer("Mitspieler",t,"Nein","Ja").then((function(e){b&&X("onStartGame.saGetAnswer, dont allow other player: "+e)})).catch((function(t){b&&X("onStartGame.saGetAnswer, yes, allow other player: "+t.message),C&&n.toggleAutomode(),v=!0,B=!0,n.playersTurn=!1,n.prepareTableLayout(),n.playerInfo.p1Name=e[0].name,n.playerInfo.p2Name=e[1].name,n.createCardDeck(),$("p1deck"),$("p2deck"),v&&1===n.playernr&&(n.dumpCards(),n.socket.emit("sendDeck",{room:n.roomname,deck:n.replaystr},(function(e){b&&X("onStartGame sendDeck: "+JSON.stringify(e))}))),n.startGame()}))}b&&X(">>> onStartGame exit ")},onStartNewGame(e){b&&X("onStartNewGame, data = "+JSON.stringify(e)),this.saShowTimerInfoDialog("Neue Partie, "+e[0].name+" beginnt!"),C&&this.toggleAutomode(),this.prepareTableLayout(),this.createCardDeck(),this.playersTurn=!1,v&&1===this.playernr&&(this.dumpCards(),this.socket.emit("sendDeck",{room:this.roomname,deck:this.replaystr},(function(e){b&&X("onStartNewGame sendDeck: "+JSON.stringify(e))}))),this.startGame()},onAutomode(e){b&&X("onAutomode, data = "+JSON.stringify(e)),1!==this.playernr&&(b&&X(" other player, use deck from player 1 "+JSON.stringify(e)),C=e.automode,this.titleStyle.backgroundColor=C?"blue":"black")},onUseDeck(e){b&&X("onUseDeck, data = "+JSON.stringify(e)),1!==this.playernr&&(b&&X(" other player, use deck from player 1 "+JSON.stringify(e)),this.displaySpecialDeck(e))},onChangeNumCards(e){if(b&&X("onChangeNumCards, data = "+JSON.stringify(e)),N=e.numCards,this.gameStarted=!1,this.displayInitialDeck(),1===this.playernr){let e={room:this.roomname,fromplayer:this.playernr};this.socket.emit("newGame",e,(function(e){b&&X("onChangeNumCards.newGame: "+JSON.stringify(e))}))}else b&&X(" other player, use deck from player 1 "+JSON.stringify(e))},onFlipCard(e){b&&X("onFlipCard, data = "+JSON.stringify(e)),this.playernr!==e.fromplayer&&(b&&X(" other player, flip card data = "+JSON.stringify(e)),1===e.fromplayer?Z(this.p1deck,e.card.imgurl):Z(this.p2deck,e.card.imgurl))},onSwitchStack(e){if(b&&X("onSwitchStack, data = "+JSON.stringify(e)),this.playernr!==e.fromplayer){b&&X(" other player, switch player stack data = "+JSON.stringify(e));let t=1===e.fromplayer?this.p1deck.cards.length:this.p2deck.cards.length;0===t&&this.switchPlayerStack(e.fromplayer)}},onMoveCard(e){b&&X("onMoveCard, data = "+JSON.stringify(e)),this.playernr!==e.fromplayer&&(b&&X(" other player, move card data = "+JSON.stringify(e)),this.moveCard(e.card,e.fromplayer,e.toplayer,e.srcel,e.destel))},onMoveCardAndSwitchPlayer(e){if(b&&X("onMoveCardAndSwitchPlayer, data = "+JSON.stringify(e)),this.clearAmpeln(),this.playernr===e.fromplayer)return this.playersTurn=!1,void(2===this.playernr?(document.getElementsByClassName("p1info")[0].style.backgroundColor="green",document.getElementsByClassName("p2info")[0].style.backgroundColor="red"):(document.getElementsByClassName("p2info")[0].style.backgroundColor="green",document.getElementsByClassName("p1info")[0].style.backgroundColor="red"));b&&X(" other player, move card data = "+JSON.stringify(e)),this.moveCardToOwnStack(e.fromplayer),this.switchPlayers()},updateConnectionStatus(){b&&X("updateConnectionStatus: connstate = "+R+", "+s),this.conStateColor=R?"color: red":"color: blue"},checkConnstate(){b&&X("checkConnstate"),this.socket.emit("serverstatus",{id:this.socket.id},(function(e){e?(b&&X("checkConnstate: server is alive, data = "+JSON.stringify(e)),R=!0,n.updateConnectionStatus()):(b&&X("checkConnstate: server does not answer!"),R=!1,n.updateConnectionStatus(),setTimeout(this.checkConnstate,5e3))}))},updateHeartbeatSpan(){this.playersOnline>0?(o.innerHTML=this.playersOnline,l.innerHTML=this.playernr+" "+this.playername+"-"+this.roomname):(o.innerHTML="",l.innerHTML="")},onSocketDisconnect(){b&&X("onSocketDisconnect: server went down..."),R=!1,this.checkConnstate()},openContextMenu(e){e.preventDefault()},onDragStart:e=>{let t=e.target,a=null,s=e.target.id;if(b&&X("onDragStart: target = "+t.id+", evt = "+JSON.stringify(e)),v){if(!n.playersTurn)return b&&X(" illegal source"),void e.preventDefault();if(1===n.playernr){if("p2deck"===s||"p2stack"===s)return b&&X(" illegal source"),void e.preventDefault()}else if("p1deck"===s||"p1stack"===s)return b&&X(" illegal source"),void e.preventDefault()}else{if(!n.playersTurn&&("p1deck"===s||"p1stack"===s))return b&&X(" illegal source"),void e.preventDefault();if(n.playersTurn&&("p2deck"===s||"p2stack"===s))return b&&X(" illegal source"),void e.preventDefault()}switch(s){case"p1deck":if(0===n.p1deck.cards.length)return void(b&&X("onDragStart not possible, no card in "+s));a=n.p1deck.cards[n.p1deck.cards.length-1];break;case"p1stack":if(0===n.p1stack.cards.length)return void(b&&X("onDragStart not possible, no card in "+s));a=n.p1stack.cards[n.p1stack.cards.length-1];break;case"p2deck":if(0===n.p2deck.cards.length)return void(b&&X("onDragStart not possible, no card in "+s));a=n.p2deck.cards[n.p2deck.cards.length-1];break;case"p2stack":if(0===n.p2stack.cards.length)return void(b&&X("onDragStart not possible, no card in "+s));a=n.p2stack.cards[n.p2stack.cards.length-1];break}if(!a.flipped)return;let r={fromTarget:s,suit:a.suit,rank:a.rank,value:a.value,imgurl:a.imgurl},i=JSON.stringify(r);e.dataTransfer.dropEffect="move",e.dataTransfer.setData("text/plain",""+i),b&&X("onDragStart: "+e.currentTarget.classList),b&&X("onDragStart, evt.dataTransfer.setData: "+i)},onDragOver(e){b&&X("onDragOver"),e.preventDefault()},onDragEnd(e){b&&X("onDragEnd, evt = "+e)},onDragLeave(e){b&&X("onDragLeave, evt = "+e)},onDrop(e){if(!e.dataTransfer)return;let t=e.dataTransfer.getData("text/plain"),a=e.target;if(b&&X("onDrop typeof cardstr === "+typeof t),!1===t.startsWith("{")||-1===t.indexOf("fromTarget"))return void(b&&X(" illegal source"));let n=this;var s=e.target.id;b&&X("onDrop: to target = "+JSON.stringify(a)),e.preventDefault();let r=JSON.parse(t),i=r.fromTarget;switch(delete r.fromTarget,b&&X("onDrop: card obj = "+JSON.stringify(r)+" from target: "+i),i){case"p1deck":if("p2stack"===s)this.mayMoveCardToPlayerStack(r,1,2)?this.moveCard(r,1,2,i,s):Q(this.p2stack);else if("stack"===s)this.mayMoveCardToStack(r,1)?this.moveCard(r,1,-1,i,s):Q(this.stack);else if("p1stack"===s){if(this.moveCardToOwnStack(1),v)return;O?n.switchPlayers():(this.switchPlayers(),setTimeout((function(){n.playStackCards(2,(function(){document.getElementById("p2deck").click()}))}),T))}break;case"p1stack":"p2stack"===s?this.mayMoveCardToPlayerStack(r,1,2)?this.moveCard(r,1,2,i,s):Q(this.p2stack):"stack"===s&&(this.mayMoveCardToStack(r,1)?this.moveCard(r,1,-1,i,s):Q(this.stack));break;case"p2deck":if("p1stack"===s)this.mayMoveCardToPlayerStack(r,2,1)?this.moveCard(r,2,1,i,s):Q(this.p1stack);else if("stack"===s)this.mayMoveCardToStack(r,2)?this.moveCard(r,2,-1,i,s):Q(this.stack);else if("p2stack"===s){if(this.moveCardToOwnStack(2),v)return;O&&this.switchPlayers()}break;case"p2stack":"p1stack"===s?this.mayMoveCardToPlayerStack(r,2,1)?this.moveCard(r,2,1,i,s):Q(this.p1stack):"stack"===s&&(this.mayMoveCardToStack(r,2)?this.moveCard(r,2,-1,i,s):Q(this.stack));break}},createCardDeck(){M?this.displaySpecialDeck("gu,gk,e10,go,sk,ek,sa,h10,s10,ga,eo,hu,su,ha,ho,eu,hk,ea,so,g10"):this.displayInitialDeck()},displayInitialDeck(){b&&X("displayInitialDeck");let e=1,t=20===N?this.ranks20.length:this.ranks36.length;this.cards=[];for(let a=0;a<this.suits.length;a++)for(let n=0;n<t;n++){let t=20===N?this.ranks20[n]:this.ranks36[n],s=20===N?this.values20[n]:this.values36[n],r={id:e,rank:t,value:s,suit:this.suits[a],flipped:!1,imgurl:"assets/"+this.suits[a]+t+".png"};this.cards.push(r),e++}this.isDeckShuffled=!1,this.shuffleCount=0,this.shuffleDeck(),this.dealCards()},displaySpecialDeck(e){b&&X("displaySpecialDeck: cardstr = "+e);let t=1,a=e.split(","),n=a.length;this.cards=[];for(let s=0;s<n;s++){let e=a[s],r=e.charAt(0),i=e.substring(1,e.length),o=20===n?this.ranks20.indexOf(i):this.ranks36.indexOf(i),l=20===n?this.values20[o]:this.values36[o],c={id:t,rank:i,value:l,suit:r,flipped:!1,imgurl:"assets/"+r+i+".png"};this.cards.push(c),b&&X("displaySpecialDeck: card = "+JSON.stringify(c)),t++}this.isDeckShuffled=!0,this.shuffleCount=1,this.dealCards()},shuffleDeck(){b&&X("shuffleDeck");for(let e=this.cards.length-1;e>0;e--){let t=Math.floor(Math.random()*e),a=this.cards[e];a.flipped=!1,this.$set(this.cards,e,this.cards[t]),this.$set(this.cards,t,a)}this.isDeckShuffled=!0,this.shuffleCount=this.shuffleCount+1},dealCards(){b&&X("dealCards"),this.p1deck.cards.length=0,this.p2deck.cards.length=0,this.p1stack.cards.length=0,this.p2stack.cards.length=0,this.stack.cards.length=0;for(let e=0;e<this.cards.length;e++){let t=this.cards[e];e%2===0?this.p1deck.cards.push(t):this.p2deck.cards.push(t)}},dumpPlayerDecks(){b&&X("dumpPlayerDecks: "),b&&X(" --\x3e deck player 1: ");for(var e=0,t=this.p1deck.cards.length;e<t;e++)b&&X(" card no = "+e+" --\x3e "+this.p1deck.cards[e].suit+" "+this.p1deck.cards[e].rank);for(b&&X(" --\x3e Deck player 2: "),e=0,t=this.p2deck.cards.length;e<t;e++)b&&X(" card no = "+e+" --\x3e "+this.p2deck.cards[e].suit+" "+this.p2deck.cards[e].rank)},dumpCards(){let e="";for(var t=0,a=this.cards.length;t<a;t++)e+=this.cards[t].suit+this.cards[t].rank,t<a-1&&(e+=",");b&&X(e),this.replaystr=e},replayGame(){this.newGame(),this.displaySpecialDeck(this.replaystr),this.replaystr=""},startGame(){B=!0,this.setGameTimeout(),this.clearAmpeln(),v?1===this.playernr?this.switchPlayers():(document.getElementsByClassName("p1info")[0].style.backgroundColor="green",document.getElementsByClassName("p2info")[0].style.backgroundColor="red"):this.switchPlayers()},prepareTableLayout(){Z(this.p1deck,P),Z(this.p2deck,P),Z(this.p1stack,J),Z(this.p2stack,J),Z(this.stack,J),this.isDeckShuffled=!1,this.playerInfo.p1Hands=0,this.playerInfo.p2Hands=0,B=!0,G=!1,_=0},newGame(){this.prepareTableLayout(),this.createCardDeck(),this.dealCards(),this.playersTurn=!1,this.switchPlayers()},resetGameParameters(){B=!1,this.p1deck.cards.length=0,this.p2deck.cards.length=0,this.p1stack.cards.length=0,this.p2stack.cards.length=0,this.stack.cards.length=0},killGame(){this.gameKilled=!0,b&&X("killGame, gameKilled = "+this.gameKilled),this.resetGameParameters(),Z(this.p1deck,H),Z(this.p1stack,H),Z(this.p2deck,z),Z(this.p2stack,z),Z(this.stack,L),v&&(s.style.display="none",o.style.display="none",l.style.display="none",c.style.display="none",r.style.display="none",i.style.display="none")},stopGame(){v&&this.saGetAnswer("SPIELERFLUCHT","Willst Du wirklich das Spiel verlassen?","Nein","Ja").then((function(e){b&&X("stopGame.saGetAnswer: "+e)})).catch((function(e){b&&X("stopGame.saGetAnswer, negative result: "+e.message),n.signoutUser(),n.killGame(),n.playersOnline=0,n.updateHeartbeatSpan(),s.style.display="none",c.style.display="none",r.style.display="none",i.style.display="none",B=!1}))},toggleAutomode(){C=!C,this.setGameTimeout(),b&&X("toggleAutomode, automode = "+C),v?1===this.playernr&&(this.titleStyle.backgroundColor=C?"blue":"black",b&&X("toggleAutomode emit automode: "),this.socket.emit("automode",{room:this.roomname,automode:C},(function(e){b&&X("toggleAutomode: "+JSON.stringify(e))}))):this.titleStyle.backgroundColor=C?"blue":"black"},setGameTimeout(e){let t=e||1e3;T=t,b&&X("setGameTimeout: timeout = "+T)},switchPlayers(){this.playersTurn=!this.playersTurn,b&&X("switchPlayers, player nr = "+this.playernr+", players turn = "+this.playersTurn),v?1===this.playernr?(this.p1ampel.backgroundColor="green",this.p2ampel.backgroundColor="transparent",document.getElementsByClassName("p1info")[0].style.backgroundColor="green",document.getElementsByClassName("p2info")[0].style.backgroundColor="red",W("p1deck"),C&&document.getElementById("p1deck").click()):(this.p2ampel.backgroundColor="green",this.p1ampel.backgroundColor="transparent",document.getElementsByClassName("p2info")[0].style.backgroundColor="green",document.getElementsByClassName("p1info")[0].style.backgroundColor="red",W("p2deck"),C&&document.getElementById("p2deck").click()):this.playersTurn?(this.p1ampel.backgroundColor="green",this.p2ampel.backgroundColor="transparent",document.getElementsByClassName("p1info")[0].style.backgroundColor="green",document.getElementsByClassName("p2info")[0].style.backgroundColor="red",W("p1deck")):(this.p2ampel.backgroundColor="green",this.p1ampel.backgroundColor="transparent",document.getElementsByClassName("p2info")[0].style.backgroundColor="green",document.getElementsByClassName("p1info")[0].style.backgroundColor="red",O&&W("p2deck")),setTimeout((function(){n.setStackAmpeln()}),T)},clearAmpeln(){this.p1ampel.backgroundColor="transparent",this.p2ampel.backgroundColor="transparent",this.p1stackampel.backgroundColor="transparent",this.p2stackampel.backgroundColor="transparent"},setStackAmpeln(){let e,t=1,a=2;b&&X("setStackAmpeln..."),0===this.p1stack.cards.length?this.p1stackampel.backgroundColor="transparent":this.playersTurn?(e=this.p1stack.cards[this.p1stack.cards.length-1],this.mayMoveCardToPlayerStack(e,t,a)||this.mayMoveCardToStack(e,t)?this.p1stackampel.backgroundColor="green":this.p1stackampel.backgroundColor="transparent"):this.p1stackampel.backgroundColor="transparent",t=2,a=1,0===this.p2stack.cards.length?this.p2stackampel.backgroundColor="transparent":this.playersTurn?(e=this.p2stack.cards[this.p2stack.cards.length-1],this.mayMoveCardToPlayerStack(e,t,a)||this.mayMoveCardToStack(e,t)?this.p2stackampel.backgroundColor="green":this.p2stackampel.backgroundColor="transparent"):this.p2stackampel.backgroundColor="transparent",b&&X("setStackAmpeln done.")},switchPlayerStack(e){let t=0;if(b&&X("switchPlayerStack of player: "+e),1===e){while(this.p1stack.cards.length>0){let e=this.p1stack.cards.pop();e.flipped=!1,this.p1deck.cards.push(e),t++}this.p1deck.imgurl=a("e1b5"),this.p1stack.imgurl=a("211b")}else{while(this.p2stack.cards.length>0){let e=this.p2stack.cards.pop();e.flipped=!1,this.p2deck.cards.push(e),t++}this.p2deck.imgurl=a("e1b5"),this.p2stack.imgurl=a("211b")}b&&X("  --\x3e switched cards: "+t)},playCard(e){let t=this,a=e.currentTarget.id,n=0,s=-1;if(b&&X("playCard: click on = "+a),G){b&&X("playCard game over after last move...");let e=1===_?this.playerInfo.p1Name:this.playerInfo.p2Name,a=1===_?this.playerInfo.p2Name:this.playerInfo.p1Name,n="Sorry "+a+", "+e+" gewinnt!";return void setTimeout((function(){1===_?(Z(t.p1deck,K),Z(t.p1stack,K),Z(t.p2deck,U),Z(t.p2stack,U)):(Z(t.p1deck,U),Z(t.p1stack,U),Z(t.p2deck,K),Z(t.p2stack,K)),t.handleGameOver(n,_===t.playernr)}),T)}if(v)if("p1deck"===a){if(!this.playersTurn)return void(b&&X("playCard not allowed, it's oppenents turn!"));n=1,s=2,document.getElementById("p1deck").classList.remove("animate__animated","animate__rubberBand","animate__infinite")}else{if("p2deck"!==a)return void(b&&X("playCard not allowed on element = "+a));if(!this.playersTurn)return void(b&&X("playCard not allowed, it's players turn!"));n=2,s=1,(v||O)&&$("p2deck")}else if("p1deck"===a){if(!this.playersTurn)return void(b&&X("playCard not allowed, it's oppenents turn!"));n=1,s=2,$("p1deck")}else{if("p2deck"!==a)return void(b&&X("playCard not allowed on element = "+a));if(this.playersTurn)return void(b&&X("playCard not allowed, it's players turn!"));n=2,s=1,O&&$("p2deck")}b&&X("playCard switch stack if necessary...");let r=1===n?this.p1deck.cards.length:this.p2deck.cards.length;if(0===r){if(this.switchPlayerStack(n),v){let e={room:this.roomname,fromplayer:n};this.socket.emit("switchStack",e,(function(e){b&&X("playCard switchStack: "+JSON.stringify(e))}))}return void setTimeout((function(){document.getElementById(a).click()}),T)}let i=1===n?this.p1deck.cards[this.p1deck.cards.length-1]:this.p2deck.cards[this.p2deck.cards.length-1];if(b){let e=i.suit+" "+i.rank+" "+i.value;b&&X(" flip card: "+e+" image: "+i.imgurl)}if(Z(1===n?this.p1deck:this.p2deck,i.imgurl),i.flipped)if(b&&X(" top card: "+JSON.stringify(i)),C)this.playStackCards(n,(function(){t.playDeckCard(i,a,n,s)}));else{if(1===n)return void(b&&X(" user must drag the card: "));if(O||v)return void(b&&X(" user must drag the card: "));this.playStackCards(n,(function(){t.playDeckCard(i,a,n,s)}))}else{if(i.flipped=!0,v){let e={room:this.roomname,card:i,fromplayer:n};this.socket.emit("flipCard",e,(function(e){b&&X("playCard flipCard: "+JSON.stringify(e))}))}setTimeout((function(){document.getElementById(a).click()}),T)}},playDeckCard(e,t,a,s){let r;if(b&&X("playDeckCard: player: "+a),this.mayMoveCardToPlayerStack(e,a,s))r=1===s?"p1stack":"p2stack",this.moveCard(e,a,s,t,r),setTimeout((function(){n.playStackCards(a,(function(){document.getElementById(t).click()}))}),T);else if(this.mayMoveCardToStack(e,a))r="stack",this.moveCard(e,a,-1,t,r),setTimeout((function(){n.playStackCards(a,(function(){document.getElementById(t).click()}))}),T);else{if(this.moveCardToOwnStack(a),v)return void(n.playersTurn=!1);this.switchPlayers(),t=1===a?"p2deck":"p1deck",(C&&2===a||1===a)&&setTimeout((function(){document.getElementById(t).click()}),T)}},playStackCards(e,t){let a=this,n=!1,s=0;if(b&&X("playStackCards: player: "+e),s=1===e?this.p1stack.cards.length:this.p2stack.cards.length,0===s)return b&&X("playStackCards: players stack is empty"),void setTimeout(t,0);(function r(){n=a.playStackCard(e),n?(s=1===e?a.p1stack.cards.length:a.p2stack.cards.length,s>0?setTimeout(r,T):setTimeout(t,T)):setTimeout(t,0)})()},playStackCard(e){let t=this,a=!1;b&&X("playStackCard starts for player = "+e);let n=1===e?this.p1stack.cards[this.p1stack.cards.length-1]:this.p2stack.cards[this.p2stack.cards.length-1];if(!n)return b&&X("  players stack seems empty"),a;let s=e,r=1===e?2:1,i=1===s?"p1stack":"p2stack",o="stack";if(b){let e=n.suit+" "+n.rank+" "+n.value;X(" top card: "+e+" image: "+n.imgurl)}return t.mayMoveCardToPlayerStack(n,s,r)?(o=1===r?"p1stack":"p2stack",this.moveCard(n,s,r,i,o),a=!0):t.mayMoveCardToStack(n,s)&&(o="stack",this.moveCard(n,s,-1,i,o),a=!0),a},mayMoveCardToPlayerStack(e,t,a){var n=!1,s=this;if(b&&X("mayMoveCardToPlayerStack from player: "+t+" to player: "+a),b){let t=e.suit+" "+e.rank+" "+e.value;X(" top card: "+t+" image: "+e.imgurl)}let r=1===a?s.p1stack.cards.length:s.p2stack.cards.length;if(r>0){let t=1===a?s.p1stack.cards[s.p1stack.cards.length-1]:s.p2stack.cards[s.p2stack.cards.length-1];if(t.suit===e.suit){let a=e.value,s=t.value;n=this.isMovePossible(a,s)}}return b&&X(" allowed: "+n),n},mayMoveCardToStack(e,t){var a=!1,n=this;if(b&&X("mayMoveCardToStack from player: "+t),b){let t=e.suit+" "+e.rank+" "+e.value;X(" top card: "+t+" image: "+e.imgurl)}if(0===n.stack.cards.length)11===e.value&&(a=!0);else{let t=n.stack.cards[n.stack.cards.length-1],s=e.value,r=t.value;(t.suit===e.suit||11===s)&&(a=this.isMovePossible(s,r))}return b&&X(" allowed: "+a),a},isMovePossible(e,t){if(b&&X("isMovePossible: cardval = "+e+", stackval = "+t),20===N){if(2===t&&3===e)return!0;if(3===t&&4===e)return!0;if(4===t&&10===e)return!0;if(10===t&&11===e)return!0;if(11===t&&2===e)return!0}else{if(6===t&&7===e)return!0;if(7===t&&8===e)return!0;if(8===t&&9===e)return!0;if(9===t&&10===e)return!0;if(10===t&&2===e)return!0;if(2===t&&3===e)return!0;if(3===t&&4===e)return!0;if(4===t&&11===e)return!0;if(11===t&&6===e)return!0}return!1},moveCard(e,t,a,n,s){let r,i,o=null;if(b&&X("moveCard: "+t+" "+n+" to "+s+", players turn = "+this.playersTurn),r=1===t?"p1deck"===n?this.p1deck:this.p1stack:"p2deck"===n?this.p2deck:this.p2stack,i="p1stack"===s?this.p1stack:this.p2stack,-1===a&&(i=this.stack),o=r.cards.pop(),i.cards.push(o),Z(i,o.imgurl),1===t?this.playerInfo.p1Hands++:this.playerInfo.p2Hands++,r.cards.length>0?n.indexOf("deck")>0?(Z(r,P),v&&this.playersTurn&&(1===this.playernr?W("p1deck"):W("p2deck"))):Z(r,r.cards[r.cards.length-1].imgurl):Z(r,J),V(s),this.setStackAmpeln(),this.playernr===t){let e={room:this.roomname,card:o,fromplayer:t,toplayer:a,srcel:n,destel:s};this.socket.emit("moveToStack",e,(function(e){b&&X("moveCard moveToStack: "+JSON.stringify(e))}))}this.checkGameOver(t)},moveCardToOwnStack(e){let t;if(b&&X("moveCardToOwnStack of player: "+e+", players turn = "+this.playersTurn),1===e?(t=this.p1deck.cards.pop(),this.p1stack.cards.push(t),Z(this.p1stack,t.imgurl),this.p1deck.cards.length>0?Z(this.p1deck,P):Z(this.p1deck,J),this.playerInfo.p1Hands++):(t=this.p2deck.cards.pop(),this.p2stack.cards.push(t),Z(this.p2stack,t.imgurl),this.p2deck.cards.length>0?Z(this.p2deck,P):Z(this.p2deck,J),this.playerInfo.p2Hands++),v&&this.playernr===e){1===this.playernr?(document.getElementsByClassName("p2info")[0].style.backgroundColor="green",document.getElementsByClassName("p1info")[0].style.backgroundColor="red"):(document.getElementsByClassName("p1info")[0].style.backgroundColor="green",document.getElementsByClassName("p2info")[0].style.backgroundColor="red");let a={room:this.roomname,card:t,fromplayer:e};b&&X("moveCardToOwnStack emit playerCardMovedToOwnStack: "+JSON.stringify(a)),this.socket.emit("moveToOwnStack",a,(function(e){b&&X("moveToOwnStack: "+JSON.stringify(e))}))}},checkGameOver(e){let t=1===e?"p2deck":"p1deck";b&&X("checkGameOver from player: "+e),1===e?0===this.p1deck.cards.length&&0===this.p1stack.cards.length&&(G=!0,_=1,this.playerInfo.p1Score++):0===this.p2deck.cards.length&&0===this.p2stack.cards.length&&(G=!0,_=2,this.playerInfo.p2Score++),G&&(b&&X("checkGameOver signal game over to playCard: "+t),setTimeout((function(){document.getElementById(t).click()}),T))},handleGameOver(e,t){b&&X("handleGameOver winner player: "+t),B=!1,1===this.playernr?this.saGameOver("GAME OVER",e).then((function(e){if(b&&X("handleGameOver, saGameOver: "+JSON.stringify(e)),v){let e={room:n.roomname,fromplayer:n.playernr};n.socket.emit("newGame",e,(function(e){b&&X("handleGameOver.newGame: "+JSON.stringify(e))}))}else n.newGame()})).catch((function(e){b&&X("handleGameOver.saGameOver, negative result: "+e.message),v?n.stopGame():n.killGame()})):this.saGameOverInfo("GAME OVER",e)},saGameOver(e,t){var a=this,n=new Promise((function(n,s){a.$swal({position:"center",background:"rgba(33,33,33, 0.2)",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Nochmal",cancelButtonText:"Abbruch",reverseButtons:!0,title:'<span style="text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 18px;font-weight: bold;">'+e+"</span>",html:'<span style="text-align: left;text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 24px;font-weight: bold;">'+t+"</span>"}).then((function(e){if(e.value)n(e);else{var t=new Error("Abbruch");s(t)}}))}));return n},saGameOverInfo(e,t){n.$swal({position:"center",background:"rgba(33,33,33, 0.2)",allowOutsideClick:!1,showCancelButton:!1,showConfirmButton:!1,title:'<span style="text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 18px;font-weight: bold;">'+e+"</span>",html:'<span style="text-align: left;text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 24px;font-weight: bold;">'+t+"</span>"})},saGetAnswer(e,t,a,n){var s=this,r=new Promise((function(r,i){s.$swal({position:"center",background:"rgba(33,33,33, 0.2)",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:a,cancelButtonText:n,reverseButtons:!0,title:'<span style="text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 18px;font-weight: bold;">'+e+"</span>",html:'<span style="text-align: left;text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 24px;font-weight: bold;">'+t+"</span>"}).then((function(e){if(e.value)r(e);else{var t=new Error("Abbruch");i(t)}}))}));return r},saShowPlayersOnline(e,t){let a=document.createElement("div");a.style.background="grey",a.style.color="#f1da0a",a.style.paddingLeft="8px",a.style.fontFamily="Avenir, Helvetica, Arial, sans-serif",a.style.fontSize="16px",a.style.fontWeight="bold",a.style.textAlign="left",a.style.textIndent="10px",a.style.overflowY="scroll",a.style.overflowX="hidden",a.style.maxHeight="450px",Object(y["a"])(a),a.appendChild(document.createElement("br"));for(var n=t.split(";"),s=0,r=n.length;s<r;s++){var i=n[s],o=document.createTextNode(i);a.appendChild(o),a.appendChild(document.createElement("br"))}a.appendChild(document.createElement("br")),this.$swal({position:"center",background:"rgba(33,33,33, 0.6)",width:400,title:'<span style="text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 18px;font-weight: bold;"> Online: '+e+"</span>",showCloseButton:!0,showConfirmButton:!1,html:a,showClass:{popup:"animated fadeInDown faster"},hideClass:{popup:"animated fadeOutUp faster"}})},showInfo(){let e="Infos",t=document.createElement("div");t.style.background="grey",t.style.borderRadius="15px",t.style.color="#f1da0a",t.style.paddingLeft="8px",t.style.fontFamily="Avenir, Helvetica, Arial, sans-serif",t.style.fontSize="19px",t.style.fontWeight="bold",t.style.textAlign="left",t.style.textIndent="10px",t.style.overflowY="scroll",t.style.overflowX="hidden",t.style.maxHeight="450px",Object(y["a"])(t);let n="66 Kriegeln / war66";var s=document.createTextNode(n);t.appendChild(document.createElement("br")),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br"));let r=document.createElement("div");var i=document.createElement("a");i.setAttribute("href","https://www.ergeka.com"),i.appendChild(document.createTextNode("Arrkei")),r.appendChild(i),n=" © 2020 V"+E;let o=document.createTextNode(n);r.appendChild(o),t.appendChild(r),t.appendChild(document.createElement("br")),n="Dieses Spiel speichert keine Daten und verwendet keine Cookies.",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br"));var l=document.createElement("img");l.setAttribute("src",a("ddf1")),l.setAttribute("width","43px"),l.setAttribute("height","auto"),l.setAttribute("alt","Herz"),l.setAttribute("title","Herz"),t.appendChild(l),l=document.createElement("img"),l.setAttribute("src",a("d8b6")),l.setAttribute("paddingTop","10px"),l.setAttribute("width","40px"),l.setAttribute("height","auto"),l.setAttribute("alt","Eichel"),l.setAttribute("title","Eichel"),t.appendChild(l),l=document.createElement("img"),l.setAttribute("src",a("ea91")),l.setAttribute("paddingTop","10px"),l.setAttribute("width","40px"),l.setAttribute("height","auto"),l.setAttribute("alt","Gras"),l.setAttribute("title","Gras"),t.appendChild(l),l=document.createElement("img"),l.setAttribute("src",a("b0a2")),l.setAttribute("paddingTop","10px"),l.setAttribute("width","40px"),l.setAttribute("height","auto"),l.setAttribute("alt","Schell"),l.setAttribute("title","Schell"),t.appendChild(l),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Als Bataille royale oder Casino War ein vor allem in französischen und amerikanischen Spielbanken betriebenes Glücksspiel.",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Der Ursprung dieses Casinospiels liegt in einem weit verbreiteten Kartenspiel für Kinder, das im deutschen Sprachraum ",s=document.createTextNode(n),t.appendChild(s),n="als Leben und Tod bzw. Krieg und Frieden, in Österreich als Kriegeln, in der Schweiz als Burechrieg (Bauernkrieg) und in Frankreich als Bataille (dt. Schlacht) bekannt ist. ",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),n="In Großbritannien heißt das Spiel Battle, in den USA War (dt. Krieg).",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Mehr Infos auf: ",s=document.createTextNode(n),t.appendChild(s);var c="https://de.wikipedia.org/wiki/Bataille_royale",d=document.createElement("a");d.setAttribute("href",c),d.innerHTML="Wikipedia",t.appendChild(d),this.$swal({position:"center",background:"rgba(33,33,33, 0.9)",showCloseButton:!0,title:'<span style="text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 18px;font-weight: bold;">'+e+"</span>",html:t,showClass:{popup:"animated fadeInDown faster"},hideClass:{popup:"animated fadeOutUp faster"}})},saOpenChatDialog(e){var t=this;let a=document.createElement("div");a.style.background="grey",a.style.color="#f1da0a",a.style.paddingLeft="8px",a.style.fontFamily="Avenir, Helvetica, Arial, sans-serif",a.style.fontSize="16px",a.style.fontWeight="bold",a.style.textAlign="left",a.style.textIndent="10px",a.style.overflowY="scroll",a.style.overflowX="hidden",a.style.maxHeight="250px",Object(y["a"])(a);let n=e.reverse();var s=n.length,r=document.createTextNode(" "+s+" chats");a.appendChild(r),a.appendChild(document.createElement("br")),a.appendChild(document.createElement("br"));for(var i=0;i<s;i++){var o=n[i],l=document.createTextNode(o);a.appendChild(l),a.appendChild(document.createElement("br"))}a.appendChild(document.createElement("br")),b&&X("saOpenChatDialog..."),t.$swal({background:"rgba(33,33,33, 0.9)",width:370,position:"bottom",showConfirmButton:!1,allowEscapeKey:!1,html:a,showClass:{popup:"animated fadeInDown faster"},hideClass:{popup:"animated fadeOutUp faster"}})},saShowInfoDialog(e){this.$swal({background:"rgba(33,33,33, 0.9)",width:270,position:"center",showConfirmButton:!1,html:'<span style="text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 14px;font-weight: bold;">'+e+"</span>"})},saShowTimerInfoDialog(e){var t=this,a=new Promise((function(a){t.$swal({background:"rgba(33,33,33, 0.9)",width:270,position:"top-end",showConfirmButton:!1,html:'<span style="text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 14px;font-weight: bold;">'+e+"</span>",timerProgressBar:!0,timer:3e3}).then(e=>{a(e)})}));return a},showHelp(){let e="Hilfe",t=document.createElement("div");t.style.background="grey",t.style.borderRadius="15px",t.style.color="#f1da0a",t.style.paddingLeft="8px",t.style.fontFamily="Avenir, Helvetica, Arial, sans-serif",t.style.fontSize="19px",t.style.fontWeight="bold",t.style.textAlign="left",t.style.textIndent="10px",t.style.overflowY="scroll",t.style.overflowX="hidden",t.style.maxHeight="450px",Object(y["a"])(t);let n="66 Kriegeln";var s=document.createTextNode(n);t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Ein Spiel für 2 Spieler. Jeder Spieler bekommt die gleiche Anzahl Karten und gewinnt, wenn er keine Karten mehr hat. Man kann gegen die Maschine oder alleine und mit 20 oder 36 Karten spielen, diese Auswahl kann in den Einstellungen erfolgen.",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Karten: gespielt wird mit den 66 Karten in den Farben: Herz, Eichel, Blatt oder Gras und Schellen oder Schell.",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br"));var r=document.createElement("img");r.setAttribute("src",a("ddf1")),r.setAttribute("width","40px"),r.setAttribute("height","auto"),r.setAttribute("alt","Herz"),r.setAttribute("title","Herz"),t.appendChild(r),r=document.createElement("img"),r.setAttribute("src",a("d8b6")),r.setAttribute("paddingTop","10px"),r.setAttribute("width","40px"),r.setAttribute("height","auto"),r.setAttribute("alt","Eichel"),r.setAttribute("title","Eichel"),t.appendChild(r),r=document.createElement("img"),r.setAttribute("src",a("ea91")),r.setAttribute("paddingTop","10px"),r.setAttribute("width","40px"),r.setAttribute("height","auto"),r.setAttribute("alt","Gras"),r.setAttribute("title","Gras"),t.appendChild(r),r=document.createElement("img"),r.setAttribute("src",a("b0a2")),r.setAttribute("paddingTop","10px"),r.setAttribute("width","40px"),r.setAttribute("height","auto"),r.setAttribute("alt","Schell"),r.setAttribute("title","Schell"),t.appendChild(r),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Bei 20 Blatt Karten spielt man mit Ass, Zehn, König, Ober und Unter, sonst zusätzlich mit 9, 8, 7 und 6",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),r=document.createElement("img"),r.setAttribute("src",a("1bf2")),r.setAttribute("width","390px"),r.setAttribute("height","auto"),r.setAttribute("alt","Herz"),r.setAttribute("title","Herz"),t.appendChild(r),t.appendChild(document.createElement("br")),n="Schalter",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),r=document.createElement("img"),r.setAttribute("src",a("9e4a")),r.setAttribute("width","390px"),r.setAttribute("height","auto"),r.setAttribute("alt","Schalter"),r.setAttribute("title","Schalter"),t.appendChild(r),s=document.createTextNode("Links neben dem roten Herz steht die Anzahl der Spieler am Tisch, rechts daneben die Spielernummer. Nummer 1 hat den Tisch reserviert und beginnt das Spiel."),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Regeln",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Spielziel: Als erster alle Karten los werden. ",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Spielaufbau: jeder Spieler hat einen Kartenstapel und eine Halde, in der Mitte ist eine neutrale Ablageplatz für Karten die aus dem Spiel sind. Über jedem Stapel oder Halde wird die Anzahl der dort befindlichen Karten angezeigt. Die Grüne Ampel zeigt dem Spieler, der an der Reihe ist, dass ein Spielzug möglich ist.",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Spielablauf:",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),n="Es wird immer abwechselnd gespielt, der Spieler der an der Reihe ist darf einen oder mehrere Züge machen. Dabei klickt er auf den Stapel und bewegt die Karte wie folgt:",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),n="--\x3e ein Ass auf die noch leere oder auf eine volle Serie in der Ablage, das hängt von der Anzahl der gespielten Karten ab.",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),n="--\x3e andere Karten auf die Halde des Gegners oder Ablage wenn möglich. Sonst muss die Karte auf die eigene Halde bewegt werden und der andere Spieler ist am Zug.Ein ungültiger Zug wird angezeigt, gültige Züge sind folgende: ",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),n="--\x3e andere Karten auf die Halde des Gegners oder Ablage wenn möglich. Sonst muss die Karte auf die eigene Halde bewegt werden und der andere Spieler ist am Zug.Ein ungültiger Zug wird angezeigt, gültige Züge sind folgende: ",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Reihefolge bei 20 Karten",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="--\x3e Farbe 1: Ass, Unter, Ober, König, Zehn Farbe 2: Ass, Unter...",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="Reihefolge bei 36 Karten",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),n="--\x3e Farbe 1: Ass, 6, 7, 8, 9, Zehn, Unter, Ober, König Farbe 2: Ass, 6, ...",s=document.createTextNode(n),t.appendChild(s),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),t.appendChild(document.createElement("br")),this.$swal({position:"center",background:"rgba(33,33,33, 0.9)",showCloseButton:!0,title:'<span style="text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 18px;font-weight: bold;">'+e+"</span>",html:t,showClass:{popup:"animated fadeInDown faster"},hideClass:{popup:"animated fadeOutUp faster"}})},showSettings(){var e=this,t=!1,a=!1;1===this.playernr?this.saChangeSettings("Einstellungen",O,36===N,v).then((function(n){if(b&&X("showSettings, user input: "+JSON.stringify(n)),t=O!==n.playsolo,O=n.playsolo,v||(e.playerInfo.p1Name=O?"Ich":"IQ",e.playerInfo.p2Name=O?"Ego":"KI"),n.cards36?36!==N&&(N=36,a=!0):(N=20,a=!0),a)if(b&&X("showSettings, newGame with different deck... "),v){let t={room:e.roomname,fromplayer:e.playernr,numCards:N};e.socket.emit("changeNumCards",t,(function(e){b&&X("showSettings.newGame: "+JSON.stringify(e))}))}else e.displayInitialDeck(),B?(B=!1,e.newGame()):t&&(b&&X("showSettings, newGame"),e.newGame())})).catch((function(e){b&&X("showSettings, user input: "+e.message)})):this.saShowInfoDialog("Nur "+this.playerInfo.p1Name+" - Spieler 1 - darf Einstellungen ändern.")},saChangeSettings(e,t,a,n){b&&X("saChangeSettings,  iplaysolo, icards36: "+t+", "+a);var s=this,r={},i=new Promise((function(i,o){s.$swal({position:"center",background:"rgba(33,33,33, 0.9)",allowOutsideClick:!1,showCloseButton:!0,title:'<span style="text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 18px;font-weight: bold;">'+e+"</span>",html:'<span style="text-align: left;text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 16px;font-weight: bold;">Normales Spiel:<br> Mensch gegen Maschine <br> 20 Karten</span><br><br><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="checkbox1" ><label class="form-check-label" for="checkbox1" style="text-align: left;text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 16px;font-weight: bold;">Ich spiele auch für die Maschine</label></div><br><div class="form-check"><input class="form-check-input" type="checkbox" value="" id="checkbox2" checked='+a+'><label class="form-check-label" for="checkbox2" style="text-align: left;text-shadow:none;color:#f1da0a;font-family: Verdana,Arial,Helvetica;font-size: 16px;font-weight: bold;">Ich spiele mit 36 Karten</label></div>',focusConfirm:!1,preConfirm:()=>{r.playsolo=document.getElementById("checkbox1").checked,r.cards36=document.getElementById("checkbox2").checked},onOpen:function(){n&&(document.getElementById("checkbox1").disabled=!0),document.getElementById("checkbox1").checked=t,document.getElementById("checkbox2").checked=a}}).then((function(e){if(e.value)i(r);else{var t=new Error("Abbruch");o(t)}}))}));return i}}};function V(e){document.getElementById(e).classList.remove("animate__animated","animate__bounceIn"),setTimeout((function(){document.getElementById(e).classList.add("animate__animated","animate__bounceIn")}),0)}function W(e){document.getElementById(e).classList.remove("animate__animated","animate__rubberBand","animate__infinite"),setTimeout((function(){document.getElementById(e).classList.add("animate__animated","animate__rubberBand","animate__infinite"),document.getElementById(e).style.setProperty("--animate-duration","10s")}),0)}function $(e){document.getElementById(e).classList.remove("animate__animated","animate__rubberBand","animate__infinite")}function Z(e,t){setTimeout((function(){e.imgurl=a("a8ec")("./"+t)}),0)}function Q(e){let t=e.imgurl;e.imgurl=a("a8ec")("./"+H),setTimeout((function(){e.imgurl=t}),500)}function X(e){if(b){var t=new Date;console.log(t.toLocaleDateString()+" "+t.toLocaleTimeString()+": "+e)}}var Y=F,q=(a("733c"),a("2877")),ee=Object(q["a"])(Y,m,h,!1,null,"79245e33",null);t["default"]=ee.exports},"5c42":function(e,t,a){e.exports=a.p+"img/s9.75812689.png"},"5e68":function(e,t,a){e.exports=a.p+"img/s7.f51be2e8.png"},"5fc1":function(e,t,a){e.exports=a.p+"img/ho.b928a08a.png"},6249:function(e,t,a){e.exports=a.p+"img/sword2.b39e1a71.png"},"733c":function(e,t,a){"use strict";var n=a("76d3"),s=a.n(n);s.a},"76d3":function(e,t,a){},"7f9a":function(e,t,a){e.exports=a.p+"img/aerger.c2d28f0d.png"},"84e9":function(e,t,a){e.exports=a.p+"img/h8.818fb206.png"},"85ec":function(e,t,a){},"860d":function(e,t,a){e.exports=a.p+"img/sieg.f7dd6320.png"},"865f":function(e,t,a){e.exports=a.p+"img/e6.38023ec4.png"},8950:function(e,t,a){e.exports=a.p+"img/h10.95097629.png"},"919b":function(e,t,a){e.exports=a.p+"img/sword2rot.1071decf.png"},"94c4":function(e,t,a){e.exports=a.p+"img/sa.d88291d9.png"},"9e4a":function(e,t,a){e.exports=a.p+"img/66war-title.8d7444a3.jpg"},a5d8:function(e,t,a){e.exports=a.p+"img/ga.df51c8f4.png"},a8ec:function(e,t,a){var n={"./App":"3dfd","./App.vue":"3dfd","./assets/66Karten.png":"1bf2","./assets/66war-title.jpg":"9e4a","./assets/Eichel.png":"d8b6","./assets/Gras.png":"ea91","./assets/Herz.png":"ddf1","./assets/Schell.png":"b0a2","./assets/aerger.png":"7f9a","./assets/back7.png":"e1b5","./assets/black.png":"211b","./assets/e10.png":"54e3","./assets/e6.png":"865f","./assets/e7.png":"aef4","./assets/e8.png":"19ad","./assets/e9.png":"c521","./assets/ea.png":"c36f","./assets/ek.png":"16b7","./assets/eo.png":"3c2e","./assets/eu.png":"fb49","./assets/g10.png":"2683","./assets/g6.png":"fdcc","./assets/g7.png":"b3ee","./assets/g8.png":"00c2","./assets/g9.png":"51c0","./assets/ga.png":"a5d8","./assets/gk.png":"f4fe","./assets/go.png":"f5f9","./assets/gu.png":"c38f","./assets/h10.png":"8950","./assets/h6.png":"0709","./assets/h7.png":"30b2","./assets/h8.png":"84e9","./assets/h9.png":"49b4","./assets/ha.png":"b82c","./assets/hk.png":"3c0d","./assets/ho.png":"5fc1","./assets/hu.png":"fa92","./assets/logo.png":"cf05","./assets/s10.png":"3167","./assets/s6.png":"d2bd","./assets/s7.png":"5e68","./assets/s8.png":"fcaa","./assets/s9.png":"5c42","./assets/sa.png":"94c4","./assets/safari-pinned-tab.svg":"06c4","./assets/sieg.png":"860d","./assets/sk.png":"053e","./assets/so.png":"be74","./assets/su.png":"cdc4","./assets/sword.png":"fc31","./assets/sword2.png":"6249","./assets/sword2rot.png":"919b","./assets/tenor.gif":"15e5","./components/Chat":"e6b0","./components/Chat.vue":"e6b0","./components/Main66":"57bf","./components/Main66.vue":"57bf","./main":"56d7","./main.js":"56d7"};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="a8ec"},aef4:function(e,t,a){e.exports=a.p+"img/e7.a0dd52a1.png"},b0a2:function(e,t,a){e.exports=a.p+"img/Schell.9eb0f113.png"},b3ee:function(e,t,a){e.exports=a.p+"img/g7.d7d6eced.png"},b82c:function(e,t,a){e.exports=a.p+"img/ha.9d403790.png"},be74:function(e,t,a){e.exports=a.p+"img/so.12f403d4.png"},c36f:function(e,t,a){e.exports=a.p+"img/ea.7ce3e29e.png"},c38f:function(e,t,a){e.exports=a.p+"img/gu.afad2ddc.png"},c521:function(e,t,a){e.exports=a.p+"img/e9.6d448fe5.png"},cdc4:function(e,t,a){e.exports=a.p+"img/su.a30e39ce.png"},cf05:function(e,t,a){e.exports=a.p+"img/logo.9eb0f113.png"},d2bd:function(e,t,a){e.exports=a.p+"img/s6.a15d9ac6.png"},d8b6:function(e,t,a){e.exports=a.p+"img/Eichel.34e5c05b.png"},ddf1:function(e,t,a){e.exports=a.p+"img/Herz.0f74d425.png"},e1b5:function(e,t,a){e.exports=a.p+"img/back7.f69b7fcc.png"},e6b0:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("beautiful-chat",{attrs:{participants:e.participants,titleImageUrl:e.titleImageUrl,onMessageWasSent:e.onMessageWasSent,messageList:e.messageList,newMessagesCount:e.newMessagesCount,isOpen:e.isChatOpen,close:e.closeChat,open:e.openChat,showEmoji:!0,showFile:!0,showTypingIndicator:e.showTypingIndicator,colors:e.colors,alwaysScrollToBottom:e.alwaysScrollToBottom,messageStyling:e.messageStyling}})],1)},s=[],r=a("2877"),i={},o=Object(r["a"])(i,n,s,!1,null,null,null);t["default"]=o.exports},ea91:function(e,t,a){e.exports=a.p+"img/Gras.77c6fc9c.png"},f4fe:function(e,t,a){e.exports=a.p+"img/gk.e7e3b48d.png"},f5f9:function(e,t,a){e.exports=a.p+"img/go.495230c9.png"},fa92:function(e,t,a){e.exports=a.p+"img/hu.085ccbd1.png"},fb49:function(e,t,a){e.exports=a.p+"img/eu.7fec398e.png"},fc31:function(e,t,a){e.exports=a.p+"img/sword.e00fed84.png"},fcaa:function(e,t,a){e.exports=a.p+"img/s8.c8338079.png"},fdcc:function(e,t,a){e.exports=a.p+"img/g6.78d450c4.png"}});
//# sourceMappingURL=app.d24574f0.js.map